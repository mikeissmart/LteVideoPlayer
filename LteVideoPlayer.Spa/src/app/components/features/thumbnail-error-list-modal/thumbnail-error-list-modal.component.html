<app-modal #modal size="xl" [isStatic]="false">
  <div header>
    <h4>{{ _showError?.file?.fullPath }}</h4>
  </div>
  <div body>
    <div class="row">
      <div class="col">Currently getting thumbnail for</div>
      <div class="col d-flex flex-row-reverse">
        <button
          class="btn btn-primary btn-sm"
          (click)="onFetchCurrentThumbnail()"
        >
          Refresh
        </button>
      </div>
    </div>
    <div class="row">
      <div class="col">
        {{ _currentThumbnail.length == 0 ? "N/A" : _currentThumbnail }}
      </div>
    </div>
    <div class="row">
      <div class="table-responsive">
        <table class="table table-dark table-sm">
          <thead>
            <tr>
              <th>Last Error Date</th>
              <th>Times Failed</th>
              <th>Full Path</th>
            </tr>
          </thead>
          <tbody>
            @for (item of _thumbnailErrors; track $index) {
            <tr (click)="onShowError(item)">
              <td>
                {{ item.lastError | date : "yyyy-MM-dd HH:mm:ss" }}
              </td>
              <td>
                {{ item.timesFailed }}
              </td>
              <td>{{ item.file.fullPath }}</td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</app-modal>
<app-modal #showErrorModal size="xl" [isStatic]="false">
  <div header>
    <h4>{{ _showError?.file?.fullPath }}</h4>
  </div>
  <div body>
    <p>
      {{ _showError?.error }}
    </p>
  </div>
</app-modal>
